<h1>Eat-Da-Burger!</h1>

<h2>Ready to devour!</h2>

<ul>
    {{#each burgers}}
    {{#unless this.devoured}}
    <li>{{this.burger_name}}</li>
    {{/unless}}
    {{/each}}
</ul>

<h2>Devoured!</h2>

<ul>
    {{#each burgers}}
    {{#if this.devoured}}
    <li>{{this.burger_name}}</li>
    {{/if}}
    {{/each}}
</ul>

<h2>Add a Burger</h2>
<form id="create-form">

    <div class="form-group">
        <label for="burgername">Burger Name:</label>
        <input type="text" id="burgername" name="name">
    </div>

    <button type="submit">Add Burger!</button>
</form>

<script>
    document.getElementById("create-form").addEventListener("submit", function (event) {
        event.preventDefault()
        const newBurger = {
            burger_name: document.getElementById("burgername").value.trim(),
            devoured: false
        }
        fetch("/api/burgers", {
            method: "POST",
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(newBurger)
        }).then(response => {
            console.log(response)
            if (response.ok) location.reload()
        })
    })
</script>